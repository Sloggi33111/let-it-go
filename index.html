<!DOCTYPE html>
<html lang="en"> <!-- 改为英文语言 -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Pinterest-Style Image Gallery</title> <!-- 标题改为英文 -->
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js"></script> <!-- Masonry 库 -->
    <script src="https://cdn.jsdelivr.net/npm/imagesloaded@5/imagesloaded.pkgd.min.js"></script> <!-- 新增 imagesLoaded 库，避免堆叠 -->
</head>
<body>
    <h1>Welcome to My Image Gallery!</h1> <!-- 标题改为英文 -->
    <div class="grid" id="grid"></div>
    
    <script>
        // 动态加载图片
        fetch('images.json')
            .then(response => response.json())
            .then(images => {
                const grid = document.getElementById('grid');
                
                images.forEach(src => {
                    const img = document.createElement('img');
                    img.src = src;
                    img.alt = 'Image'; // 英文描述
                    img.loading = 'lazy';
                    
                    // 添加点击复制文件名功能
                    img.onclick = () => {
                        const filename = src.split('/').pop(); // 提取文件名，如 "pic1.jpg"
                        navigator.clipboard.writeText(filename)
                            .then(() => alert('Copied filename to clipboard: ' + filename)) // 英文提示
                            .catch(err => console.error('Failed to copy: ', err));
                    };
                    
                    grid.appendChild(img);
                });
                
                // 等图片加载后初始化 Masonry，避免堆叠
                imagesLoaded(grid, function() {
                    new Masonry(grid, {
                        itemSelector: 'img',
                        columnWidth: '.grid-sizer', // 使用 sizer 元素实现响应式
                        gutter: 10,
                        percentPosition: true, // 百分比定位，更响应式
                        fitWidth: true
                    });
                });
            })
            .catch(error => console.error('Failed to load images:', error)); // 英文错误日志
    </script>
</body>
</html>
